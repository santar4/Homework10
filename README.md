# FastAPI Проєкт з HTTP Basic Аутентифікацією

Цей FastAPI проєкт демонструє використання HTTP Basic аутентифікації з ролями користувачів.

## Функціонал

- **Аутентифікація:** Перевірка користувачів через HTTP Basic.
- **Доступ за ролями:** Тільки користувачі з роллю `admin` мають доступ до спеціальних маршрутів.

## Маршрути

### Головна сторінка
- **GET /**  
  Переадресація на документацію API за адресою `/docs`.

### Захищені дані
- **GET /secure-data/**
  - Доступно тільки автентифікованим користувачам.
  - **Відповідь:**
    ```json
    {
      "username": "<ім'я користувача>",
      "role": "<роль>"
    }
    ```

### Список користувачів (тільки для адміністраторів)
- **GET /admin/users/**
  - Доступно тільки автентифікованим адміністраторам.
  - **Відповідь:**
    ```json
    {
      "users": ["user1", "admin1"]
    }
    ```

## Як запустити

1. Встановіть залежності:
   ```bash
   pip install fastapi uvicorn werkzeug
   ```
2. Запустіть додаток:
   ```bash
   python main.py
   ```
3. Перейдіть за адресою [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs).

## Управління користувачами

### Додавання користувачів
Оновіть `users_db`, використовуючи `werkzeug.security.generate_password_hash` для хешування паролів:
```python
from werkzeug.security import generate_password_hash

users_db["НовийКористувач"] = {
    "username": "newuser",
    "hashed_password": generate_password_hash("newpassword"),
    "role": "user"
}
```

### Приклад користувачів
- **Олег (Користувач):** Логін: `user1`, Пароль: `secret`, Роль: `user`
- **Майк (Адмін):** Логін: `admin1`, Пароль: `secret2`, Роль: `admin`

## Тестування

Аутентифікація за допомогою інструментів, таких як `cURL`:

- **Отримати захищені дані:**
  ```bash
  curl -u user1:secret http://127.0.0.1:8000/secure-data/
  ```
- **Отримати доступ до адмін-розділу:**
  ```bash
  curl -u admin1:secret2 http://127.0.0.1:8000/admin/users/
  ```

### Очікувані помилки
- **Неавторизовано:** Некоректні облікові дані.
- **Заборонено:** Недостатньо прав.

---
Готово до використання FastAPI додатку!

